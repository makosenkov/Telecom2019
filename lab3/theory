//синтезировать сигнал
sin, imp, triangle

//синтезировать шум
signal_with_noise = awgn (сигнал, snr) - белый гауссовский шум
    snr=20*lg(Us/Un) например -3
fft(signal_with_noise)

//синтезируем фильтр
FDA tool
фильтр нижних частот lowpass
FIR (КИХ), оконный метод (window), окно Кайзера
Книга Гутникова
Fs - частота дискретизации
Fc - частота среза
apass - амплитуда в полосе пропускания
astop - амплитуда в полосе заграждения
задается либо порядок (order)
либо угол наклона (Fpass, Fstop)
(взаимозависимы)

IIR (БИХ) - Butterworth


fir1 - автоматически
//применяем фильтр-убираем шум
применяем filter(signal_with_noise)

//вывод
сложно построить чистую фильтрацию прямоугольного сигнала
//теоретическое обоснование
1.   с. 72 рис.20 Гутников
    по времени сворачивается, по частоте умножается
    X(f)*H(f)=Y(f) - теорема о свертке
2.  в шуме есть все частоты
    корелляция самого на себя - без смещения = 1
    со смещением -> 0
    автокорелляция шума = дельта-импульс (d(t))

    в частотной области - постоянная величина (1(t))
    центральная плотность мощности
    (!)энергия шума - постоянный спектр (теорема Винера-Хингина)

    чем обусловлено неполное удаление шумов